<story-context id=".bmad/bmm/workflows/4-implementation/story-context/template" v="1.0">
  <metadata>
    <epicId>1</epicId>
    <storyId>1</storyId>
    <title>Project Initialization with React + Vite + TypeScript</title>
    <status>ready-for-dev</status>
    <generatedAt>2025-01-27</generatedAt>
    <generator>BMAD Story Context Workflow</generator>
    <sourceStoryPath>docs/sprint-artifacts/1-1-project-initialization-with-react-vite-typescript.md</sourceStoryPath>
  </metadata>

  <story>
    <asA>developer</asA>
    <iWant>the project initialized with React, Vite, TypeScript, and TailwindCSS</iWant>
    <soThat>I have a modern development environment ready for building the chess application</soThat>
    <tasks>
      <task id="1" ac="1">
        <title>Initialize Vite Project</title>
        <subtasks>
          <subtask>Run `npm create vite@latest . -- --template react-ts` to initialize React + TypeScript project</subtask>
          <subtask>Verify `package.json` is created with React 18+ and TypeScript dependencies</subtask>
          <subtask>Configure TypeScript strict mode in `tsconfig.json`</subtask>
          <subtask>Verify project structure includes `/src` directory</subtask>
        </subtasks>
      </task>
      <task id="2" ac="1">
        <title>Install and Configure React Router</title>
        <subtasks>
          <subtask>Install React Router: `npm install react-router-dom`</subtask>
          <subtask>Create `/src/app/routes.ts` file for React Router route definitions</subtask>
          <subtask>Verify React Router is listed in `package.json` dependencies</subtask>
        </subtasks>
      </task>
      <task id="3" ac="1,2">
        <title>Install and Configure TailwindCSS</title>
        <subtasks>
          <subtask>Install TailwindCSS: `npm install -D tailwindcss postcss autoprefixer`</subtask>
          <subtask>Initialize Tailwind: `npx tailwindcss init -p`</subtask>
          <subtask>Configure `tailwind.config.js` to scan `./src/**/*.{js,ts,jsx,tsx}`</subtask>
          <subtask>Update `src/index.css` with Tailwind directives (@tailwind base, components, utilities)</subtask>
          <subtask>Verify TailwindCSS styles are working by adding a test class</subtask>
        </subtasks>
      </task>
      <task id="4" ac="1">
        <title>Configure ESLint and Prettier</title>
        <subtasks>
          <subtask>Install ESLint with React and TypeScript plugins</subtask>
          <subtask>Configure ESLint rules in `.eslintrc.cjs` or `eslint.config.js`</subtask>
          <subtask>Install Prettier: `npm install -D prettier`</subtask>
          <subtask>Create `.prettierrc` with reasonable defaults</subtask>
          <subtask>Add `.prettierignore` file</subtask>
        </subtasks>
      </task>
      <task id="5" ac="1">
        <title>Create Complete Folder Structure</title>
        <subtasks>
          <subtask>Create `/src/app` directory with `routes.ts` file</subtask>
          <subtask>Create `/src/components` directory structure: `/src/components/Board` (for future chess board components), `/src/components/UI` (for UI components)</subtask>
          <subtask>Create `/src/pages` directory (for page components)</subtask>
          <subtask>Create `/src/stores` directory (for Zustand stores)</subtask>
          <subtask>Create `/src/services` directory (for service utilities)</subtask>
          <subtask>Create `/src/core` directory structure: `/src/core/chess` (for chess.js wrapper), `/src/core/abilities` (for ability definitions)</subtask>
          <subtask>Create `/src/utils` directory (for utility functions)</subtask>
          <subtask>Create `/src/themes` directory (for theme configurations)</subtask>
        </subtasks>
      </task>
      <task id="6" ac="1">
        <title>Configure .gitignore</title>
        <subtasks>
          <subtask>Create or update `.gitignore` for Node.js projects</subtask>
          <subtask>Include: `node_modules/`, `dist/`, `.env`, `.DS_Store`, build outputs</subtask>
          <subtask>Verify `.gitignore` is properly configured</subtask>
        </subtasks>
      </task>
      <task id="7" ac="2">
        <title>Verify Development Environment</title>
        <subtasks>
          <subtask>Run `npm run dev` and verify development server starts without errors</subtask>
          <subtask>Verify React app loads in browser</subtask>
          <subtask>Run `npm run build` and verify TypeScript compilation passes with no errors</subtask>
          <subtask>Verify TailwindCSS styles are applied (test with utility classes)</subtask>
        </subtasks>
      </task>
    </tasks>
  </story>

  <acceptanceCriteria>
    <criterion id="AC1">
      <title>Project Structure Creation</title>
      <given>a new project directory</given>
      <when>I run the initialization command</when>
      <then>
        <item>React 18+ configured with Vite</item>
        <item>TypeScript with strict mode enabled</item>
        <item>TailwindCSS configured with PostCSS</item>
        <item>ESLint and Prettier configured</item>
        <item>Basic folder structure matching Architecture spec (`/src`, `/src/components`, `/src/pages`, `/src/stores`, `/src/services`, `/src/core`, `/src/utils`, `/src/themes`)</item>
        <item>`package.json` with all core dependencies listed</item>
        <item>`.gitignore` configured for Node.js</item>
      </then>
    </criterion>
    <criterion id="AC2">
      <title>Development Server</title>
      <then>
        <item>the project runs without errors with `npm run dev`</item>
        <item>TypeScript compilation passes with no errors</item>
        <item>TailwindCSS styles are working</item>
      </then>
    </criterion>
  </acceptanceCriteria>

  <artifacts>
    <docs>
      <doc path="docs/prd.md" title="Product Requirements Document">
        <section>Technical Stack</section>
        <snippet>Frontend: React + Vite, TypeScript, Zustand (session state), TailwindCSS, react-chessboard, chess.js, stockfish.js (Web Worker)</snippet>
      </doc>
      <doc path="docs/architecture.md" title="Architecture Document">
        <section>File &amp; Folder Structure (Client-Only Monorepo)</section>
        <snippet>Complete folder structure specification: /src/app/routes.ts (React Router route definitions), /src/components/Board, /src/components/UI, /src/pages, /src/stores, /src/services, /src/core/chess, /src/core/abilities, /src/utils, /src/themes</snippet>
      </doc>
      <doc path="docs/architecture.md" title="Architecture Document">
        <section>Routing Layer (React Router)</section>
        <snippet>Client-side routing for all pages. Route definitions in routes.ts. Handles navigation (route protection optional for MVP).</snippet>
      </doc>
      <doc path="docs/sprint-artifacts/tech-spec-epic-1.md" title="Epic Technical Specification: Foundation &amp; Project Setup">
        <section>Detailed Design - Services and Modules</section>
        <snippet>Project Initialization: React 18+ with Vite, TypeScript with strict mode, TailwindCSS with PostCSS, ESLint and Prettier configuration. File Structure: Complete folder structure matching Architecture spec.</snippet>
      </doc>
      <doc path="docs/sprint-artifacts/tech-spec-epic-1.md" title="Epic Technical Specification: Foundation &amp; Project Setup">
        <section>Workflows and Sequencing - Story 1.1: Project Initialization Sequence</section>
        <snippet>1. Initialize Vite Project: Run `npm create vite@latest . -- --template react-ts`, Configure TypeScript with strict mode, Install React Router. 2. Configure TailwindCSS: Install, Initialize, Configure tailwind.config.js. 3. Set Up File Structure: Create all required directories. 4. Configure ESLint and Prettier. 5. Verify Setup.</snippet>
      </doc>
      <doc path="docs/ux-design-specification.md" title="UX Design Specification">
        <section>Design System Foundation - Design System Choice</section>
        <snippet>Selected: shadcn/ui. Built on TailwindCSS, perfectly aligns with tech stack (React + TypeScript + TailwindCSS). Copy-paste component architecture provides full control and customization.</snippet>
      </doc>
      <doc path="docs/epics.md" title="Epic Breakdown">
        <section>Story 1.1: Project Initialization with React + Vite + TypeScript</section>
        <snippet>Technical Notes: Use Vite template: `npm create vite@latest . -- --template react-ts`. Install React Router: `npm install react-router-dom`. Install TailwindCSS: `npm install -D tailwindcss postcss autoprefixer`. Initialize Tailwind: `npx tailwindcss init -p`. Configure Tailwind config to scan `./src/**/*.{js,ts,jsx,tsx}`. Set up ESLint with React and TypeScript plugins. Configure Prettier with reasonable defaults.</snippet>
      </doc>
    </docs>
    <code>
      <!-- No existing code artifacts - this is the first story establishing the project foundation -->
    </code>
    <dependencies>
      <ecosystem name="node">
        <package name="react" version="^18.0.0" purpose="UI framework" />
        <package name="react-dom" version="^18.0.0" purpose="React DOM rendering" />
        <package name="react-router-dom" version="^6.0.0" purpose="Client-side routing" />
        <package name="typescript" version="^5.0.0" purpose="Type safety" />
        <package name="vite" version="^5.0.0" purpose="Build tool and dev server" />
        <package name="tailwindcss" version="^3.0.0" purpose="CSS utility framework" />
        <package name="postcss" version="^8.0.0" purpose="CSS processing" />
        <package name="autoprefixer" version="^10.0.0" purpose="CSS vendor prefixes" />
      </ecosystem>
      <ecosystem name="dev-dependencies">
        <package name="@types/react" version="^18.0.0" purpose="TypeScript types for React" />
        <package name="@types/react-dom" version="^18.0.0" purpose="TypeScript types for React DOM" />
        <package name="eslint" version="^8.0.0" purpose="Code linting" />
        <package name="prettier" version="^3.0.0" purpose="Code formatting" />
        <package name="@vitejs/plugin-react" version="^4.0.0" purpose="Vite React plugin" />
      </ecosystem>
    </dependencies>
  </artifacts>

  <constraints>
    <constraint>
      <type>Architecture Pattern</type>
      <description>Routing Layer Setup: React Router is configured in `/src/app/routes.ts` as specified in Architecture section 3 (Routing Layer). Route definitions will be added in subsequent stories. Client-side routing enables navigation without page reloads.</description>
    </constraint>
    <constraint>
      <type>File Structure Alignment</type>
      <description>Folder structure matches Architecture section 8 (File &amp; Folder Structure). All required directories are created to support future development. Directory structure supports separation of concerns: components, pages, stores, services, core logic, utilities, themes.</description>
    </constraint>
    <constraint>
      <type>TypeScript Configuration</type>
      <description>TypeScript strict mode ensures type safety throughout the application. Compile-time type checking prevents runtime errors.</description>
    </constraint>
    <constraint>
      <type>Build System</type>
      <description>Vite provides fast development server and optimized production builds. HMR (Hot Module Replacement) enabled for fast development iteration.</description>
    </constraint>
    <constraint>
      <type>No Backend Dependencies</type>
      <description>Fully client-side application as per Architecture section 1. No server-side dependencies required.</description>
    </constraint>
  </constraints>

  <interfaces>
    <!-- No existing interfaces - this story establishes the foundation, interfaces will be created in subsequent stories -->
  </interfaces>

  <tests>
    <standards>
      Manual testing approach for Epic 1 (infrastructure-only). Verify project structure, dev server starts, build completes, TailwindCSS works. Compile-time testing: TypeScript compilation (`npm run build`) must pass with no errors. ESLint: `npm run lint` must pass with no errors (if lint script added). Runtime testing: Development server (`npm run dev`) must start without errors. Automated testing frameworks deferred to Epic 2+ (Vitest for unit tests, React Testing Library for component tests, Playwright/Cypress for E2E tests).
    </standards>
    <locations>
      <!-- No test directories exist yet - testing infrastructure deferred to Epic 2+ -->
      <location>Future: Unit tests in `/src/**/*.test.ts` or `/src/**/*.test.tsx`</location>
      <location>Future: Component tests alongside components or in `/src/**/__tests__/`</location>
      <location>Future: E2E tests in `/e2e/` or `/tests/e2e/`</location>
    </locations>
    <ideas>
      <idea criterion="AC1">
        <title>Verify Project Structure</title>
        <description>Verify all directories exist: `/src/app`, `/src/components/Board`, `/src/components/UI`, `/src/pages`, `/src/stores`, `/src/services`, `/src/core/chess`, `/src/core/abilities`, `/src/utils`, `/src/themes`</description>
      </idea>
      <idea criterion="AC1">
        <title>Verify Dependencies</title>
        <description>Verify `package.json` includes all core dependencies: React 18+, React Router, TypeScript, Vite, TailwindCSS, ESLint, Prettier</description>
      </idea>
      <idea criterion="AC1">
        <title>Verify TypeScript Configuration</title>
        <description>Verify `tsconfig.json` has strict mode enabled. Run `npm run build` and verify TypeScript compilation passes with no errors.</description>
      </idea>
      <idea criterion="AC1">
        <title>Verify ESLint and Prettier</title>
        <description>Run linting (if script added), verify formatting works. Check `.eslintrc.cjs` or `eslint.config.js` exists and has React/TypeScript plugins configured.</description>
      </idea>
      <idea criterion="AC1">
        <title>Verify .gitignore</title>
        <description>Verify `.gitignore` includes: `node_modules/`, `dist/`, `.env`, `.DS_Store`, build outputs</description>
      </idea>
      <idea criterion="AC2">
        <title>Verify Development Server</title>
        <description>Run `npm run dev` and verify development server starts without errors. Verify React app loads in browser at localhost.</description>
      </idea>
      <idea criterion="AC2">
        <title>Verify TypeScript Compilation</title>
        <description>Run `npm run build` and verify TypeScript compilation passes with no errors. Verify `dist/` directory is created.</description>
      </idea>
      <idea criterion="AC2">
        <title>Verify TailwindCSS</title>
        <description>Create a test component with Tailwind utility classes (e.g., `className="bg-blue-500 text-white p-4"`). Verify styles are applied correctly in browser.</description>
      </idea>
    </ideas>
  </tests>
</story-context>

